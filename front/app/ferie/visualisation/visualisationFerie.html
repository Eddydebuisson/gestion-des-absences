<h1 class="text-center">Gestion des absences</h1>

<div class="container">

	<h4 class="text-center">
		Année <select ng-model="$ctrl.anneeCourante" ng-change="$ctrl.filterByAnnee()">
			<option ng-repeat="annee in $ctrl.annees" ng-value="annee">{{annee}}</option>
		</select>
	</h4>
	<br>
    <table class="table table-striped table-bordered" ng-show="$ctrl.feries.length > 0">
        <thead>
            <tr style="background-color: #f5f5f5;">
                <th>
                    <a href="#" ng-click="$ctrl.updateOrderEtTri('dateDebutOriginal')">
                        Date
                        <span ng-if="$ctrl.order == 'dateDebutOriginal'">
                            <span ng-show="$ctrl.triInverse">
                                <span class="caret"></span>
                            </span>
                            <span ng-show="!$ctrl.triInverse">
                                <span class="dropup"><span class="caret"></span></span>
                            </span>
                        </span>
                    </a>
                </th>
                <th>
                    <a href="#" ng-click="$ctrl.updateOrderEtTri('type')">
                        Type
                        <span ng-if="$ctrl.order == 'type'">
                            <span ng-show="$ctrl.triInverse">
                                <span class="caret"></span>
                            </span>
                            <span ng-show="!$ctrl.triInverse">
                                <span class="dropup"><span class="caret"></span></span>
                            </span>
                        </span>
                    </a>
                </th>
                <th>
                    <a href="#" ng-click="$ctrl.updateOrderEtTri('jour')">
                        Jour
                        <span ng-if="$ctrl.order == 'jour'">
                            <span ng-show="$ctrl.triInverse">
                                <span class="caret"></span>
                            </span>
                            <span ng-show="!$ctrl.triInverse">
                                <span class="dropup"><span class="caret"></span></span>
                            </span>
                        </span>
                    </a>
                </th>
                <th>
                    <a href="#" ng-click="$ctrl.updateOrderEtTri('commentaires')">
                        Commentaires
                        <span ng-if="$ctrl.order == 'commentaires'">
                            <span ng-show="$ctrl.triInverse">
                                <span class="caret"></span>
                            </span>
                            <span ng-show="!$ctrl.triInverse">
                                <span class="dropup"><span class="caret"></span></span>
                            </span>
                        </span>
                    </a>
                </th>
                <th ng-if="$ctrl.isAdmin()">
                </th>
            </tr>
        </thead>
        <tbody>

            <tr ng-repeat="ferie in $ctrl.feries| orderBy:$ctrl.order:$ctrl.triInverse">

                <td>{{ferie.date}}</td>
                <td>{{ferie.type}}</td>
                <td>{{ferie.jour}}</td>
                <td>{{ferie.commentaires}}</td>
                <td ng-if="$ctrl.isAdmin()">
					<a class="col-xs-6 text-center" href="#">
						<span class="glyphicon glyphicon-pencil"></span>
					</a>
					<a class="col-xs-6 text-center" href="#">
						<span class="glyphicon glyphicon-trash"></span>
					</a>
                </td>
            </tr>
        </tbody>
    </table>

    <h4 class="text-right" ng-if="$ctrl.isAdmin()">
        Ajouter un jour férié ou une RTT emp.
        <a href="./ferie/creation" class="btn btn-primary">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        </a>
    </h4>

</div>
